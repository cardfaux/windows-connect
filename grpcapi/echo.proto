syntax = "proto3";

package grpcapi;

option go_package = "github.com/cardfaux/windows-connect/grpcapi;grpcapi";

service EchoService {
    rpc ExecuteCommand(stream CommandMessage) returns (stream CommandMessage);
}

message CommandMessage {
  oneof message {
    CommandRequest command_request = 1;
    CommandResponse command_response = 2;
  }
}

message CommandRequest {
    string command = 1;
    string shell = 2;
}

message CommandResponse {
    string output = 1;
}